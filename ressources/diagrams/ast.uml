@startuml
skinparam classAttributeIconSize 0

class ProgramBuilder {
  -commands: stack<Command>
  -blocks: stack<Block>
  -statements: stack<Statement>
  +add(Command)
  +buildStatement()
  +buildFunction()
}

ProgramBuilder o-- Program

AST *- ASTNode

abstract class ASTNode {
+ {abstract} compile()
}

class Block {
  -operations: list<ASTNode>
}

class Include {
  -libName: string
}

class Assignement {
  -var: string
  -value: type_t
  -type: Type
}

class Declaration {
  -var: string
  -type: Type
}

class FunctionCall {
  -name: string
  -params: list<string>
}

class Function {
  -returnType: Type
  -returnValue: type_t
  -name: string
}

class If {
  -condition: BooleanOperation
}

class For {
  -var: string
  -type: Type
  -begin: type_t
  -end: type_t
  -step: type_t
}

class While {
  -condition: BooleanOperation
}

ASTNode <|-- Statement
ASTNode <|-- Command
ASTNode <|-- Include
ASTNode <|-- Block

Command <|-- Assignement
Command <|-- Declaration
Command <|-- ArithmeticOperation
Command <|-- BooleanOperation
Command <|-- FunctionCall
Command <|-- IOAction

Statement <|-- Loop
Statement <|-- If

Statement *-- Block
Statement <|-- Function

Loop <|-- For
Loop <|-- Foreach
Loop <|-- While

IOAction <|-- read
IOAction <|-- print

Program *-- Include
Program *-- Function
@enduml
